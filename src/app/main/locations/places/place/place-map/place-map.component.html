<div *ngIf="placeDoc != null">
  <mat-card class="mat-elevation-z4">
    <mat-card-content>
      <agm-map [fitBounds]="false"
               [latitude]="placeDoc.latitude"
               [longitude]="placeDoc.longitude"
               [zoom]="getZoom(placeDoc.radius)"
               (mapReady)="onMapReady($event)">
        <agm-marker *ngFor="let unit of placeDoc.unitsPresent"
                    [latitude]="unit.latitude"
                    [longitude]="unit.longitude"
                    [iconUrl]="unitIcon"
                    [agmFitBounds]="false">
          <agm-info-window [disableAutoPan]="false" #infoWindow>
            <div>
              {{unit.deviceName}}
            </div>
          </agm-info-window>
        </agm-marker>
        <agm-circle
          [latitude]="placeDoc.latitude"
          [longitude]="placeDoc.longitude"
          [radius]="placeDoc.radius"
          [fillColor]="placeDoc.color"
          [circleDraggable]="false"
          [editable]="false">
        </agm-circle>
      </agm-map>
    </mat-card-content>
  </mat-card>
</div>
